<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-tw">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Neil Lee, Embeded system, Network protocol, Linux" />










<meta property="og:type" content="website">
<meta property="og:title" content="Neil&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Neil&#39;s Blog">
<meta property="og:locale" content="zh-tw">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Neil&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/3/"/>





  <title>Neil's Blog</title>
  




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-114678963-1', 'auto');
  ga('send', 'pageview');
</script>





</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-tw">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Neil's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            關於
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分類
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            歸檔
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Gerrit-Server-Code-Review-Server-on-Linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Gerrit-Server-Code-Review-Server-on-Linux/" itemprop="url">Gerrit Server - Code Review Server on Linux</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:35:54+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-engineering/" itemprop="url" rel="index">
                    <span itemprop="name">Software engineering</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-engineering/Revision-control/" itemprop="url" rel="index">
                    <span itemprop="name">Revision control</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-engineering/Revision-control/Git/" itemprop="url" rel="index">
                    <span itemprop="name">Git</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>安裝java執行環境</p>
</li>
<li><p>安裝MySQL Server</p>
<ul>
<li><p>(Ubuntu)可至Ubuntu軟體中心 ,下載並安裝MySQL伺服器與MySQL管理員進行管理</p>
</li>
<li><p>設定MySQL</p>
<pre><code>mysql -u root -p
CREATE USER &apos;gerrit&apos;@&apos;localhost&apos; INDENTIFIED BY &apos;secret&apos;;
CREATE DATABASE reviewdb;
ALTER DATABASE reviewdb charset=latin1;
GRANT ALL ON reviewdb.* TO &apos;gerrit&apos;@&apos;localhost&apos;;
FLUSH PRIVILEGES;
</code></pre></li>
</ul>
</li>
<li><p>安裝Apache Server</p>
<ul>
<li><p>安裝Apache Server</p>
<pre><code>sudo apt-get install apache2 apache2-dev
</code></pre></li>
<li><p>安裝Apache proxy模組</p>
<pre><code>sudo a2nemod proxy
sudo a2nemod proxy_http
</code></pre></li>
<li><p>設定Apache Server代理登錄</p>
<pre><code>vim /etc/apache2/sites-available/default
</code></pre><p>或</p>
<pre><code>vim /etc/apache2/httpd.conf
</code></pre>  <!-- -->
<pre><code>Listen 8082
Listen 8083
Listen 8084
&lt;VirtualHost *:8082&gt;
  ServerName localhost
  ProxyRequests Off
  ProxyVia Off
  ProxyPreserveHost On
  &lt;Proxy *&gt;
     Order deny,allow
     Allow from all
  &lt;/Proxy&gt;
  &lt;Location /login/&gt;
     AuthType Basic
     AuthName &quot;Gerrit Code Review&quot;
     AuthBasicProvider file
     AuthUserFile /home/gerrit/review_site/etc/gerrit.passwd
     Require valid-user
  &lt;/Location&gt;
  AllowEncodedSlashes On
  ProxyPass / http://localhost:8081/ nocanon
&lt;/VirtualHost&gt;
&lt;VirtualHost *:8083&gt;
  ServerName Redmine
  DocumentRoot /home/redmine/redmine_site/public/
  &lt;Directory /home/redmine/redmine_site/public/&gt;
     Options Indexes ExecCGI FollowSymLinks
     Order allow,deny
     Allow from all
     AllowOverride all
  &lt;/Directory&gt;
&lt;/VirtualHost&gt;
&lt;VirtualHost *:8084&gt;
  ServerName PhpMyAdmin
  DocumentRoot /usr/share/phpmyadmin
  &lt;Directory /usr/share/phpmyadmin&gt;
     Options Indexes ExecCGI FollowSymLinks
     Order allow,deny
     Allow from all
     AllowOverride all
  &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre></li>
<li><p>啟動Apache Server</p>
<pre><code>sudo /etc/init.d/apache2 restart
</code></pre></li>
</ul>
</li>
<li><p>安裝Gerrit Server</p>
<ul>
<li><p>建立Gerrit專用帳號</p>
<p>  sudo adduser gerrit<br>  sudo su gerrit<br>  cd ~gerrit</p>
</li>
<li><p>安裝Gerrit V2.7 (下載Gerrit的.war包至/home/gerrit)</p>
<p>  java -jar gerrit-2.7.war init -d review_site</p>
</li>
<li><p>設定Gerrit Server</p>
<pre><code>vim /home/gerrit/review_site/etc/gerrit.config
</code></pre>  <!-- -->
<pre><code>[gerrit]
        basePath = git
        canonicalWebUrl = http://220.132.142.166:8082/
[database]
        type = mysql
        hostname = localhost
        database = reviewdb
        username = gerrit
[auth]
        type = HTTP
[sendemail]
        smtpServer = smtp.gmail.com
        smtpServerPort = 465
        smtpEncryption = SSL
        smtpUser = xunyi.lee@gmail.com
[container]
        user = gerrit
        javaHome = /usr/lib/jvm/java-7-oracle/jre
[sshd]
        listenAddress = *:29418
[httpd]
        listenUrl = proxy-http://localhost:8081/
[cache]
        directory = cache
[gitweb]
        cgi = /usr/share/gitweb/index.cgi
</code></pre></li>
<li><p>增加Gerrit 用戶</p>
<pre><code>sudo htpasswd -c /home/gerrit/review_site/etc/gerrit.passwd 用戶名稱
</code></pre></li>
<li><p>啟動Gerrir Server</p>
<pre><code>vim /home/gerrit/review_site/bin/gerrit.sh
</code></pre>  <!-- -->
<pre><code>GERRIT_SITE=/home/gerrit/review_site
NO_START=0
</code></pre>  <!-- -->
<pre><code>/home/gerrit/review_site/bin/gerrit.sh restart
sudo ln -s /home/gerrit/review_site/bin/gerrit.sh /etc/init.d/
sudo /etc/init.d/gerrit.sh restart
</code></pre></li>
</ul>
</li>
<li><p>Gerrit用戶認證</p>
<ul>
<li>使用建立的Gerrit用戶帳號與密碼,登入Web,</li>
<li>第一個登入的帳號為Administrator,</li>
<li>進入setting填入Email認證,</li>
<li>並加入Public SSH Key</li>
</ul>
</li>
<li><p>Gerrit增加Label-Verified</p>
<pre><code>mkdir tmp
cd tmp
git init
git remote add origin ssh://admin@remote.site.com:29418/All-Projects
git fetch origin refs/meta/config:refs/remotes/origin/meta/config
git checkout meta/config
vim project.config
</code></pre> <!-- -->
<pre><code>[label &quot;Verified&quot;]
        function = MaxWithBlock
        value = -1 Fails
        value = 0 No score
        value = +1 Verified
</code></pre> <!-- -->
<pre><code>git add *
git config --global user.name &quot;Neil Lee&quot;
git config --global user.email xunyi.lee@gmail.com
git commit -m &quot;Add label&apos;verfied&apos;&quot;
git push origin meta/config
</code></pre></li>
</ol>
<ol>
<li><p>設定Gerrit Web中使用中文註解</p>
<ul>
<li><p>設定Gerrit MySQL Server連線設定</p>
<pre><code>vim /home/gerrit/review_site/etc/gerrit.config
</code></pre>  <!-- -->
<pre><code>[database]
        type = mysql
        url = jdbc:mysql://localhost:3306/reviewdb?user=gerrit&amp;useUnicode=true&amp;characterEncoding=utf8
</code></pre></li>
<li><p>設定Gerrit database in MySQL Server </p>
<pre><code>mysql -u gerrit -p
ALTER DATABASE reviewdb charset=utf8;
use reviewdb;
alter table account_diff_preferences engine=innodb;
alter table account_external_ids engine=innodb;
alter table account_group_id engine=innodb;
alter table account_group_includes_by_uuid engine=innodb;
alter table account_group_includes_by_uuid_audit engine=innodb;
alter table account_group_members engine=innodb;
alter table account_group_members_audit engine=innodb;
alter table account_group_names engine=innodb;
alter table account_groups engine=innodb;
alter table account_id engine=innodb;
alter table account_patch_reviews engine=innodb;
alter table account_project_watches engine=innodb;
alter table account_ssh_keys engine=innodb;
alter table accounts engine=innodb;
alter table change_id engine=innodb;
alter table change_message_id engine=innodb;
alter table change_messages engine=innodb;
alter table changes engine=innodb;
alter table patch_comments engine=innodb;
alter table patch_set_ancestors engine=innodb;
alter table patch_set_approvals engine=innodb;
alter table patch_sets engine=innodb;
alter table schema_version engine=innodb;
alter table starred_changes engine=innodb;
alter table submodule_subscriptions engine=innodb;
alter table system_config engine=innodb;
alter table tracking_ids engine=innodb;
ALTER TABLE account_diff_preferences CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_external_ids CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_group_id CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_group_includes_by_uuid CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_group_includes_by_uuid_audit CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_group_members CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_group_members_audit CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_group_names CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_groups CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_id CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_patch_reviews CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_project_watches CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_ssh_keys CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE accounts CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE change_id CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE change_message_id CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE change_messages CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE changes CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE patch_comments CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE patch_set_ancestors CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE patch_set_approvals CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE patch_sets CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE schema_version CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE starred_changes CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE submodule_subscriptions CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE system_config CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE tracking_ids CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
</code></pre></li>
</ul>
</li>
<li><p>設定Gerrit提供gitweb瀏覽repo</p>
<ul>
<li><p>安裝gitweb</p>
<pre><code>sudo apt-get install gitweb
</code></pre></li>
<li><p>設定gitweb</p>
<pre><code>vim /home/gerrit/review_site/etc/gerrit.config
</code></pre>  <!-- -->
<pre><code>[gitweb]
        cgi = /usr/share/gitweb/index.cgi
</code></pre></li>
</ul>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-Embeded-system-C-C-Remote-debug-by-GDB-server/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-Embeded-system-C-C-Remote-debug-by-GDB-server/" itemprop="url">(Linux)(Embeded system)(C)(C++)Remote debug by GDB server</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:35:51+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming-language/" itemprop="url" rel="index">
                    <span itemprop="name">Programming language</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Embeded-system/" itemprop="url" rel="index">
                    <span itemprop="name">Embeded system</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming-language/C/" itemprop="url" rel="index">
                    <span itemprop="name">C</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming-language/C/" itemprop="url" rel="index">
                    <span itemprop="name">C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>設定環境</strong></p>
<ul>
<li><p>Host (PC)(Ubuntu)</p>
<ul>
<li>安裝Cross-Compile GDB &amp; GDB Server<ul>
<li>下載GDB Source (內含GDB &amp; GDB Server)<br><a href="http://www.gnu.org/software/gdb/download/" target="_blank" rel="noopener">http://www.gnu.org/software/gdb/download/</a></li>
</ul>
</li>
<li><p>Complier GDB</p>
<pre><code>cd &lt;GDB source&gt;
./configure
make
</code></pre></li>
<li><p>Cross-compiler GDB Server</p>
<pre><code>cd &lt;GDB Src&gt;/gdbserver
./configure --host=mipsel-linux
make
</code></pre></li>
<li><p>安裝CGDB方便操作GDB</p>
<pre><code>sudo apt-get install cgdb
</code></pre></li>
<li><p>Cross-compile <application> with GCC Debug option “-g”</application></p>
</li>
</ul>
</li>
<li><p>Target board</p>
<ul>
<li>將<cross-compiled gdbsever="">放在target board</cross-compiled></li>
<li>將<cross-compiled application="">放在target board  </cross-compiled></li>
</ul>
</li>
</ul>
<p><strong>進行Remote debug</strong></p>
<ul>
<li><p>Target board</p>
<ul>
<li><p>GDB Server 設定Listen Port</p>
<pre><code>&lt;cross-compiled gdbserver&gt; localhost:&lt;port&gt; &lt;cross-compiled  application&gt;
</code></pre></li>
</ul>
</li>
<li><p>Host</p>
<ul>
<li><p>使用CGDB啟動GDB</p>
<pre><code>cgdb -d &lt;cross-compiled gdb&gt; &lt;cross-compiled application&gt;
</code></pre></li>
<li><p>切換至GDB模式</p>
<ul>
<li>CGDB與GDB模式互換<ul>
<li>GDB-&gt;CGDB: 按下”esc”</li>
<li>CGDB-&gt;GDB: 按下”i”</li>
</ul>
</li>
<li><p>GCC Debug command連上GDB Server</p>
<pre><code>target remote &lt;target board IP&gt;:&lt;target board port&gt;
</code></pre></li>
</ul>
</li>
<li>GCC Debug command<ul>
<li>list (l) –顯示程式</li>
<li>continue (c) – 離開中斷點，繼續執行程式</li>
<li>run (r) – 開始執行程式</li>
<li>next (n) – Step over</li>
<li>next (s) – Step in</li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-DHCP-server-client-on-different-VLAN/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-DHCP-server-client-on-different-VLAN/" itemprop="url">(Linux) DHCP server/ client on different VLAN</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:35:47+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>1. Install DHCP Server</strong>  </p>
<pre><code>sudo apt-get install dhcp3-server
</code></pre><p><strong>2. Configure DHCP Server</strong></p>
<pre><code>sudo vim /etc/dhcp3/dhcpd.confAdd following:
</code></pre><p>Add following</p>
<pre><code>subnet 192.168.1.0 netmask 255.255.255.0 {
    range 192.168.1.1 192.168.1.200;
    option routers 192.168.1.254;
}
subnet 192.168.2.0 netmask 255.255.255.0 {
    range 192.168.2.1 192.168.2.200;
    option routers 192.168.2.254;
}
</code></pre><p><strong>3. Add VLAN to ethernet card (VLAN 10 : eth0.10 ; VLAN 11 : eth0.11)</strong></p>
<p><strong>4. Use Ifconfig to set eth0.10, eth0.11 to different network segment</strong>  </p>
<pre><code>sudo ifconfig eth0.10 192.168.1.1 netmask 255.255.255.0
sudo ifconfig eth0.11 192.168.2.1 netmask 255.255.255.0
</code></pre><p><strong>5. Enable/ Disable DHCP Server</strong></p>
<pre><code>sudo /etc/init.d/dhcp3-server start
sudo /etc/init.d/dhcp3-server stop
sudo /etc/init.d/dhcp3-server restart
</code></pre><p><strong>6. Test by DHCP Clients</strong></p>
<pre><code>dhclient eth0.10
dhclient eth0.11
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-Bash-開始Bash-script/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-Bash-開始Bash-script/" itemprop="url">(Linux)(Bash)開始Bash script</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:35:41+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming-language/" itemprop="url" rel="index">
                    <span itemprop="name">Programming language</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming-language/Bash/" itemprop="url" rel="index">
                    <span itemprop="name">Bash</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Bash script</strong></p>
<ul>
<li>Linux console mode, 可使用shell script, 進行程式化的指令輸出  </li>
</ul>
<p><strong>使用文字編輯器直接編輯.sh</strong><br>vim a.sh</p>
<p><strong>建立與執行Bash script</strong></p>
<pre><code>chmod 777 a.sh
    ./a.sh
</code></pre><p> 或者    </p>
<pre><code>bash a.sh
bash -x a.sh #Debug command
</code></pre><p><strong>好用的Linux bash shell scipt手冊</strong></p>
<ul>
<li><a href="http://www.freeos.com/guides/lsst/" target="_blank" rel="noopener">http://www.freeos.com/guides/lsst/</a></li>
<li><a href="http://bash.cyberciti.biz/guide/Main_Page" target="_blank" rel="noopener">http://bash.cyberciti.biz/guide/Main_Page</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-Bash-Communcating-to-telnet-or-serial-port/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-Bash-Communcating-to-telnet-or-serial-port/" itemprop="url">(Linux) (Bash) Communcating to telnet or serial port</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:35:04+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>[Telnet]</strong></p>
<ul>
<li><p>寫入command至telnet 終端:</p>
<pre><code>(echo &quot;command&quot;) | telnet 192.168.1.1
</code></pre></li>
</ul>
<p><strong>[Serial port]</strong> </p>
<ul>
<li><p>使用stty設定serial port</p>
<pre><code>stty -F /dev/ttyS0 speed 9600 -icrnl
stty -F &lt;dev&gt; speed  &lt;baudrate&gt; -icrnl
</code></pre><p>  *-crnl: translate carriage return to a newline </p>
</li>
<li><p>寫入 command至serial port:</p>
<pre><code>(echo &quot;command&quot;) | &gt; /dev/ttyS0
</code></pre></li>
<li><p>讀取serial port上回傳值:</p>
<pre><code>cat /dev/ttyS0
read /dev/ttyS0 &gt; /dev/tty
</code></pre></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Embeded-System-Microchip-Hint-for-HITECH-C-Compilier/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Embeded-System-Microchip-Hint-for-HITECH-C-Compilier/" itemprop="url">(Embeded System)(Microchip)Hint for HITECH C Compilier</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:34:56+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Embeded-system/" itemprop="url" rel="index">
                    <span itemprop="name">Embeded system</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Embeded-system/MCU/" itemprop="url" rel="index">
                    <span itemprop="name">MCU</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Embeded-system/MCU/Microchip/" itemprop="url" rel="index">
                    <span itemprop="name">Microchip</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p><strong>Different compilers for different sereis Microship MCU</strong></p>
<ul>
<li>8bits baseline, id-range: HiTechC</li>
<li>8bits PIC18: C18</li>
<li>16bits: C30</li>
<li>32bits: C32</li>
</ul>
</li>
<li><p><strong>Some notes for Microchip MCU PIC16F (8bis baseline)</strong></p>
<ul>
<li>PIC16F 指令寬度: 14-bits &gt; 2k 要做Page(Bank)切換,這部份C Compiler已經幫忙完成</li>
<li>Data memory<ul>
<li>SFR,GPR, Accessses(70-7Fh)</li>
<li>SFR(Special File Register)<ul>
<li>使用Hitec C Compiler, SFR名稱為內建變數不可更動</li>
<li>SFR部分register在Bank1,2,3,4共用相同內容</li>
</ul>
</li>
<li>GPR(Gloab purose Register)<ul>
<li>用來存放一般定義變數內容</li>
</ul>
</li>
<li>Access data memory bank1,2,3,4共用相同內容,無需切換Bank</li>
</ul>
</li>
<li>Status register<ul>
<li>PD: 電源狀態指示位元,執行sleep後為0,sleep用途為省電使用</li>
<li>TO: WDT溢位指示,可用來檢查watchdog reset, HITECH-C會清除TD,需要改檢查HITECH-C另外定義的變數</li>
</ul>
</li>
<li>pic.h:選擇合適ic header .h file</li>
<li>#define SLEEP() asm(“sleep”)</li>
<li>Configuration bits<ul>
<li>Configuration bits are mapped in program momory location 2007h.</li>
<li>It is important to note that address 2007h is beyond the user program memory space, which can be accessed only during programming.</li>
</ul>
</li>
<li>ID Locations<ul>
<li>Code Protected, ID Location相同,Complier Checksum會相同!!程式內容不影響Checksum</li>
<li>Without Code Protected, ID Location 不影響Checksum !!?,程式內容影響Checksum</li>
</ul>
</li>
<li><p>EEPROM</p>
<ul>
<li><p>使用內嵌組語asm去寫55AA，確保55AA是連續且快速的寫入EECON2， </p>
<pre><code>#asm
MOVLW 55h
MOVWF EECON2
MOVLW AA
MOVWF EECON2
BSF EECON1, WR
#endasm
</code></pre></li>
</ul>
</li>
<li>HITECH-C 可以使用@ 的絕對定址符號定義SFR的位址,使用此種宣告方式，該位址並不會被保留</li>
<li>HITEHC-C Proteus可模擬硬體電路<ul>
<li>Debug tool -&gt; MPLAB SIM 才有Stopwatch</li>
<li>Debug tool -&gt; ICD3在Debug Model 需按下執行,MCU與硬體才會動作</li>
<li>Build Options\Adress qualifiers\Request -&gt; 使有宣告bank1,2,3,4的變數存放在各自bank位置</li>
<li>Build Options\Adress qualifiers\Ignore -&gt; 讓Compiler自行控制變數存放的bank位置,會往bank0放</li>
<li>Array<ul>
<li>bank1,2,3 size: 96KBs 因此宣告陣列大小不得超過96KBs,如果要避免此問題,可使用PIC16F1XXX系列(採用線性定址),或者使用PIC18FXXX的元件(合併Bank</li>
</ul>
</li>
<li>Interrupt<ul>
<li>C 函數可以被連結到中斷向量的位置，只要在函數原型宣告使用保留字“interrupt” 即可<ul>
<li>void interrupt Isr(void)</li>
</ul>
</li>
<li>MCU可以在任何執行位置呼叫此函數,進入位址 0x0004,16系列只有一個中斷，其它系列有的有各周邊不同中斷</li>
<li>中斷旗標記得清除，否則有可能造成繼續進入中斷</li>
<li>中斷內不要呼叫函式與區域變數，否則會造成花費許多時間進入或結束中斷</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Neil Lee</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">26</span>
                  <span class="site-state-item-name">文章</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">分類</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Neil Lee</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 強力驅動</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主題 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
