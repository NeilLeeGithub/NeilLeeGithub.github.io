<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-tw">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Neil&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Neil&#39;s Blog">
<meta property="og:locale" content="zh-tw">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Neil&#39;s Blog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/2/"/>





  <title>Neil's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-tw">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Neil's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            關於
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分類
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            歸檔
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-Ubuntu-Tools-for-Serial-Port/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-Ubuntu-Tools-for-Serial-Port/" itemprop="url">(Linux)(Ubuntu) Tools for Serial Port</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:36:37+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Ubuntu/" itemprop="url" rel="index">
                    <span itemprop="name">Ubuntu</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p><strong>screen</strong>  </p>
<p>   screen -h 1024 /dev/ttyS0 115200</p>
<ul>
<li>Turn on output logging: -L  </li>
<li>Copy mode: Ctrl+a,esc  </li>
<li>Close session: Ctrl+a,k  </li>
<li>Logging on/ off: Ctrl+a,H</li>
</ul>
</li>
<li><p><strong> minicom</strong></p>
<ul>
<li>設定minicom: ctri+a, o</li>
<li>Log: ctrl+a, l</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-Ubuntu-SSH-server/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-Ubuntu-SSH-server/" itemprop="url">(Linux)(Ubuntu) SSH server</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:36:34+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Ubuntu/" itemprop="url" rel="index">
                    <span itemprop="name">Ubuntu</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>安裝SSH Server</p>
<pre><code>apt-get install openssh-server
</code></pre><p>或者</p>
<pre><code>apt-get install ssh
</code></pre></li>
<li><p>設定SSH Server</p>
<ul>
<li><p>SSH設定檔(ssh_config)</p>
<pre><code>sudo gedit /etc/ssh/sshd_config
</code></pre></li>
<li><p>開啟SSH Port(更改ssh_config)</p>
<pre><code>PORT 22
</code></pre></li>
<li><p>禁止root帳戶登入(更改ssh_config)</p>
<pre><code>PermitRootLogin no
</code></pre></li>
<li><p>限定特定使用者群組ssh登入(更改ssh_config)</p>
<pre><code>AllowGroups ssh
</code></pre></li>
</ul>
</li>
<li><p>檢查SSH服務是否啟動</p>
<pre><code>ps ax | grep ssh
</code></pre></li>
<li><p>Client端使用ssh連線至SSH server</p>
<pre><code>ssh user@server_ip
</code></pre></li>
<li><p>Client端使用SSH Key連線至SSH Server</p>
<ul>
<li><p>Client建立SSH Key (key1.pub與key1)</p>
<p>  ssh-keygen</p>
</li>
<li><p>Client上傳SSH Key公鑰(key1.pub)  </p>
<ul>
<li><p>Client操作上傳</p>
<pre><code>ssh-copy-id -i key1.pub user@server_ip
</code></pre></li>
<li><p>Server端操作,先藉由其他方法將公鑰複製至Server</p>
<pre><code>cat /path/to/key1.pub &gt;&gt; /home/user1/.ssh/authorized_keys
</code></pre><p>  注:不同使用者則為</p>
<pre><code>cat /path/to/key1.pub &gt;&gt; /home/user2/.ssh/authorized_keys
</code></pre><p>  注:單個使用者可有多組SSH Key</p>
<pre><code>cat /path/to/key2.pub &gt;&gt; /home/user1/.ssh/authorized_keys
</code></pre></li>
<li><p>Server端,調整authorized_keys檔案權限</p>
<pre><code>chmod 600 /home/user1/.ssh/authorized_keys
</code></pre></li>
</ul>
</li>
</ul>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-Telnet-service/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-Telnet-service/" itemprop="url">(Linux) Telnet service</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:36:15+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>Linux作業系統開啟Telnet服務</strong></p>
<ol>
<li><p>安裝xinted</p>
<p> sudo apt-get install xinetd telnetd</p>
</li>
<li><p>設定xinted config</p>
<pre><code>sudo vi /etc/xinetd.conf
</code></pre><p> 加入以下內容：</p>
<pre><code># Simple configuration file for xinetd# # Some defaults, and include /etc/xinetd.d/ 
defaults
{ 
    # Please note that you need a log_type line to be able to use log_on_success # and log_on_failure. The default is the following : # log_type = SYSLOG daemon info 
    instances = 60 log_type = SYSLOG authpriv log_on_success = HOST PID log_on_failure = HOST cps = 25 30
} 
includedir /etc/xinetd.d
</code></pre> <!-- -->
<pre><code>sudo vi /etc/xinetd.d/telnet
</code></pre><p> 加入以下內容：</p>
<pre><code># default: on
# description: The telnet server serves telnet sessions; it uses
# unencrypted username/password pairs for authentication.
service telnet 
{ 
    disable = no flags = REUSE socket_type = stream wait = no user = root server = /usr/sbin/in.telnetd log_on_failure += USERID 
}
</code></pre></li>
<li><p>重啟網路服務</p>
<p> sudo /etc/init.d/xinetd restart</p>
</li>
<li><p>使用TELNET Client遠程登錄,即可進行非root用戶訪問</p>
</li>
<li><p>使用root登錄： </p>
<p> 修改/etc/pam.d/login,下面一行註釋掉即可。</p>
<pre><code>#auth required lib/security/pam_securetty.so 
</code></pre></li>
<li><p>設定/etc/xinetd.d/telnet </p>
<pre><code>service telnet 
{ 
    disable =no 
    bind =192.168.1.2 
    only_from=192.168.1.0/24 
    #上面這兩行說明僅提供內部網段！ 
    Instance =UNLIMITED 
    Nice =0 
    Flags =REUSE 
    socket_type=stream 
    wait =no 
    user =root 
    #server =/usr/sbin/telnetd 
    server =/usr/sbin/in.telnetd 
    server_args =-a none 
    log_on_failure +=USERID 
} 
</code></pre> <!-- -->
<pre><code>service telnet 
{ 
    disable =no 
    bind =140.116.142.196 
    only_from=140.116.0.0/16 
    no_access=140.116.32.{10,26} 
    #上面三行設置外部較為嚴格的限制 
    instance =10 
    umask =022 
    nice =10 
    flags =REUSE 
    socket_type=stream 
    wait =no 
    user =root 
    #server =/usr/sbin/telnetd 
    server =/usr/sbin/in.telnetd 
    log_on_failure +=USERID 
}
</code></pre><ul>
<li><p>加設防火牆,使用iptables：<br>針對193.16.0.0/24這個網段及61.xxx.xxx.xxx這個IP進行telnet開放,增加下面幾行規則： </p>
<pre><code>/sbin/iptables -A INPUT -p tcp -i eth0 -s 193.16.0.0/24 --dport 23 -j ACCEPT
/sbin/iptables -A INPUT -p tcp -i eth0 -s 61.xxx.xxx.xxx --dport 23 -j ACCEPT
/sbin/iptables -A INPUT -p tcp -i eth0 --dport 23 -j DROP
</code></pre></li>
<li><p>加設防火牆,使用/etc/hosts.allow(deny)：<br>上面開放了193.16.0.0/24這個網段,如果只想讓其中的193.16.0.1~5進入,</p>
<pre><code>vi /etc/hosts.allow
</code></pre>  <!-- -->
<pre><code>in.telnetd:193.16.0.1,193.16.0.2,193.16.0.3,193.16.0.4,193.16.0.5:allow
</code></pre></li>
</ul>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-SNMP-Client/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-SNMP-Client/" itemprop="url">(Linux) SNMP Client</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:36:12+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>安裝SNMP Client</p>
<pre><code>sudo apt-get install snmp
</code></pre></li>
</ol>
<ol>
<li><p>SNMP Client config</p>
<p> 2.1 設定檔 /etc/snmp/snmp.conf內容如下</p>
</li>
</ol>
<pre><code>#MIB 所在資料夾
mibdirs /usr/share/snmp/mibs/
#使用的MIB
mibs CISCO-C2900-MIB:TCP-MIB:UDP-MIB
</code></pre><p>   也可使用export command改變環境變數-所在資料夾MIB,與MIB</p>
<pre><code>export MIBDIRS=/usr/share/snmp/mibs
export MIBS=CISCO-C2900-MIB
</code></pre><ol>
<li><p>SNMP Client Command 說明</p>
<pre><code>snmpget  -v 2c -c  &lt;Server Community&gt; &lt;SNMP Server IP&gt; &lt;MIB&gt;:&lt;OID&gt;
snmpwalk  -v 2c -c  &lt;Server Community&gt; &lt;SNMP Server IP&gt; &lt;MIB&gt;:&lt;OID&gt; 
snmpset  -v 2c -c  &lt;Server Community&gt; &lt;SNMP Server IP&gt; &lt;MIB&gt;:&lt;OID&gt; &lt;Value Type&gt; &lt;Value&gt;
</code></pre><p> 其中2c為snmp version, 需與 sever 端配合,大多是 2c 版,Community習慣設 Public</p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-Redmine-server-Project-management-Issue-tracking/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-Redmine-server-Project-management-Issue-tracking/" itemprop="url">(Linux)Redmine server - Project management & Issue tracking</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:36:09+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-engineering/" itemprop="url" rel="index">
                    <span itemprop="name">Software engineering</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-engineering/Project-management/" itemprop="url" rel="index">
                    <span itemprop="name">Project management</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-engineering/Issue-tracking/" itemprop="url" rel="index">
                    <span itemprop="name">Issue tracking</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>環境：</p>
<ul>
<li>Ubuntu10.04</li>
<li>Redmine2.4.1</li>
</ul>
</li>
<li><p>設定MySQL</p>
<pre><code>CREATE DATABASE redmine CHARACTER SET utf8;
CREATE USER &apos;redmine&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;my_password&apos;;
GRANT ALL PRIVILEGES ON redmine.* TO &apos;redmine&apos;@&apos;localhost&apos;;
</code></pre></li>
<li><p>安裝RVM (Ruby Version Manager)與RubyGems (Ruby package manager)</p>
<pre><code>sudo adduser redmine
sudo su redmine
sudo apt-get install curl
sudo su redmine
curl -L https://get.rvm.io | bash -s stable
source ~/.rvm/scripts/rvm
echo &quot;source ~/.rvm/scripts/rvm&quot; &gt;&gt; ~/.bashrc
rvm install 1.9.3
rvm use 1.9.3
ruby -v
wget http://production.cf.rubygems.org/rubygems/rubygems-2.1.7.tgz
tar zxvf rubygems-2.1.7.tgz
cd rubygems-2.1.7/
ruby setup.rb
</code></pre></li>
<li><p>使用RubyGems安裝bunlder</p>
</li>
</ol>
<p>gem update –system<br>gem install bunlder</p>
<ol>
<li><p>安裝Ruby rmagick與Ruby MySQL Adapter </p>
<ul>
<li><p>ruby rmagick</p>
<pre><code>sudo apt-get install imagemagick
sudo apt-get install libmagickwand-dev
gem install rmagick
</code></pre></li>
<li><p>ruby mysql2</p>
<p>  sudo apt-get install libmysql-ruby libmysqlclient-dev<br>  gem install mysql2</p>
</li>
</ul>
</li>
<li><p>安裝redmine</p>
<ul>
<li><p>下載redmine,並解壓縮至至/home/redmine/redmine_site</p>
<pre><code>cd ~/redmine_site
cp ./config/database.yml.example ./config/database.yml
vim ./config/database.yml
</code></pre>  <!-- -->
<pre><code>production:
  adapter: mysql2      (note: For Rails &lt; 3.1 use mysql instead of mysql2)
  database: redmine
  host: localhost
  username: redmine
  password: my_password
</code></pre>  <!-- -->
<pre><code>bundle install --without development test postgresql sqlite rmagick
rake generate_secret_token RAILS_ENV=production
rake db:migrate RAILS_ENV=production
rake redmine:load_default_data
</code></pre></li>
</ul>
</li>
<li><p>測試Redmine是否安裝成功 (<a href="http://localhost:3000/redmine/" target="_blank" rel="noopener">http://localhost:3000/redmine/</a>)</p>
<pre><code>ruby script/rails server webrick -e production
</code></pre></li>
<li><p>設定Redmine使用Apache2</p>
<pre><code>sudo vim /etc/apache2/http.conf
</code></pre> <!-- -->
<pre><code>Listen 8083
&lt;VirtualHost *:8083&gt;
  ServerName Redmine
  DocumentRoot /home/redmine/redmine_site/public/
  &lt;Directory /home/redmine/redmine_site/public/&gt;
     Options Indexes ExecCGI FollowSymLinks
     Order allow,deny
     Allow from all
     AllowOverride all
  &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre> <!-- -->
<pre><code>gem install passenger --no-rdoc --no-ri
passenger-install-apache2-module
cd /etc/apache2/mods-available
sudo vim passenger.conf
</code></pre> <!---->
<pre><code>PassengerRoot /home/redmine/.rvm/gems/ruby-1.9.3-p484/gems/passenger-4.0.25
PassengerDefaultRuby /home/redmine/.rvm/wrappers/ruby-1.9.3-p484/ruby
</code></pre> <!-- -->
<pre><code>sudo vim passenger.load
</code></pre> <!-- -->
<pre><code>LoadModule passenger_module /home/redmine/.rvm/gems/ruby-1.9.3-p484/gems/passenger-4.0.25/buildout/apache2/mod_passenger.so
</code></pre> <!-- -->
<pre><code>cd /etc/apache2/mods-enabled
sudo ln -s /etc/apache2/mods-available/passenger.conf
sudo ln -s /etc/apache2/mods-available/passenger.load
</code></pre></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-Radius-Server/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-Radius-Server/" itemprop="url">(Linux) Radius Server</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:36:06+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://zh.wikipedia.org/wiki/远端用户拨入验证服务" target="_blank" rel="noopener">https://zh.wikipedia.org/wiki/远端用户拨入验证服务</a><br>遠端用戶撥入驗證服務（RADIUS, Remote Authentication Dial In User Service）是一個AAA協議，意思就是同時兼顧驗證（authentication）、授權（authorization）及計費（accounting）三種服務的一種網路傳輸協議（protocol），通常用於網路存取、或流動IP服務，適用於局域網及漫遊服務。</p>
<p><strong>1. 安裝Radius Server</strong></p>
<pre><code>sudo apt-get install freeradius
</code></pre><p><strong>2. 設定Radius Server</strong></p>
<p>2.1 設定檔目錄 /etc/freeradius/</p>
<p>2.1.1 radiusd.conf (FreeRADIUS主要系統設定檔)</p>
<p>2.1.2 clients.conf (認證客戶端設定檔)</p>
<pre><code>client &lt;客戶端 IP Address&gt;
{            
    secret = &lt;Secret Key密鑰&gt;            
    shortname = &lt;客戶端代號&gt;            
}
</code></pre><p>Ex:若有內部網路要使用該radius認證的話，可以在client.conf加入該IP，例如有一部AP的IP為192.168.1.00，則加入  </p>
<pre><code>client 192.168.1.100
{            
    secret    =     tseting123            
    shorename    =     private-network-1            
}
</code></pre><p>2.1.3 users (本地帳號及處理方式設定檔)</p>
<p><strong>3. 啟動Radius Server</strong></p>
<pre><code>sudo /usr/sbin/freeradius -X
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-PPPoE-Server/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-PPPoE-Server/" itemprop="url">(Linux) PPPoE Server</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:36:03+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>安装 PPPoE Server</p>
<pre><code>sudo apt-get install pppoe
</code></pre><p> 也可make安裝:rp-pppoe套件-官網：<a href="http://www.roaringpenguin.com/products/pppoerp-ppp" target="_blank" rel="noopener">http://www.roaringpenguin.com/products/pppoerp-ppp</a></p>
<pre><code>sudo tar zxvf rp-pppoe-3.6.tar.gz -C /opt/
sudo chown -R root:root /opt/rp-pppoe-3.6/
</code></pre><p> 安裝軟體開發函示庫：</p>
<pre><code>sudo apt-get install libc6-dev
</code></pre><p> 產生pppoe server程式</p>
<pre><code>sudo /opt/rp-pppoe-3.6/go
</code></pre></li>
<li><p>設定PPPoE Server</p>
<pre><code>sudo vim  /etc/ppp/option
sudo vim /etc/ppp/options
</code></pre><p> 新增帳號</p>
<pre><code>/etc/ppp/pap-secrets
/etc/ppp/chap-secrets
</code></pre></li>
<li><p>設定forward(若無forward,Client即使拿到IP,Traffic也出不去)</p>
<pre><code>echo &quot;1&quot;&gt;/proc/sys/net/ipv4/ip_forward (用root执行)
</code></pre></li>
<li><p>啓動PPPoE Server:</p>
<pre><code>pppoe-server -I eth1 -L 192.168.1.1 -R 192.168.1.10 -N 200
</code></pre><p> -N :選用的網卡<br> -L IP : 指定interface 端的IP<br> -R IP: 發出去的IP<br> -N :連線數目</p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-PPPoE-Server-on-Different-VLAN/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-PPPoE-Server-on-Different-VLAN/" itemprop="url">(Linux) PPPoE Server on Different VLAN</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:36:00+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>設定不同VLAN在同張網卡:(VLAN 10 : eth0.10, VLAN 11 : eth0.11)</p>
</li>
<li><p>啓動PPPoE Server:</p>
<pre><code>pppoe-server -I eth0.10 -L 192.168.1.1 -R 192.168.1.10 -N 200
pppoe-server -I eth0.11 -L 192.168.1.1 -R 192.168.1.10 -N 200
</code></pre></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Linux-Git-Gitolite-Server-Git-ACL-Server/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Linux-Git-Gitolite-Server-Git-ACL-Server/" itemprop="url">(Linux)(Git) Gitolite Server - Git ACL Server</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:35:57+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-engineering/" itemprop="url" rel="index">
                    <span itemprop="name">Software engineering</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-engineering/Revision-control/" itemprop="url" rel="index">
                    <span itemprop="name">Revision control</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-engineering/Revision-control/Git/" itemprop="url" rel="index">
                    <span itemprop="name">Git</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>Server端</p>
<ul>
<li><p>安裝git</p>
<pre><code>sudo apt-get install git-core git-doc gitk git-gui
</code></pre></li>
</ul>
</li>
<li><p>Server端</p>
<ul>
<li><p>安裝gitolite</p>
<pre><code>git clone git://github.com/ossxp-com/gitolite.git
sudo mkdir -p /usr/local/share/gitolite/conf /usr/local/share/gitolite/hooks
cd gitolite/src
sudo ./gl-system-install /usr/local/bin \
/usr/local/share/gitolite/conf /usr/local/share/gitolite/hooks
</code></pre></li>
<li><p>更改gl-setup</p>
<pre><code>sudo vi /usr/local/bin/gl-setup
</code></pre><p>其中</p>
<pre><code>GL_PACKAGE_CONF=/usr/local/share/gitolite/conf
</code></pre></li>
</ul>
</li>
<li><p>Server端 </p>
<ul>
<li>增加系統使用者git</li>
<li>增加新群組git</li>
<li><p>設置使用者git為可登入shell</p>
<pre><code>sudo adduser --home /home/git --system --shell /bin/bash --group git
</code></pre></li>
<li><p>將使用者git加入使用者群組ssh,<br>(其中ssh群組已經先被建立,且ssh server僅允許ssh群組可連入ssh server)</p>
<pre><code>sudo adduser git ssh
</code></pre></li>
</ul>
</li>
<li><p>Client端</p>
<ul>
<li>建立gitolite管理者使用憑證(admin.pub,admin),</li>
<li>並傳admin_name.pub至server端~/底下</li>
</ul>
</li>
<li><p>Server端</p>
<ul>
<li><p>安裝gitolite管理者使用憑證(admin.pub,admin))</p>
<pre><code>sudo su - git
gl-setup ~/admin.pub
</code></pre></li>
</ul>
</li>
<li><p>使用SSH憑證key1進行git clone gitolite-admin管理庫</p>
<pre><code>git clone git@server_ip:gitolite-admin
</code></pre></li>
<li><p>gitolite-admin管理庫</p>
<ul>
<li>conf/gitolite.conf 文件,設定git版本庫,分支等讀寫權限</li>
<li>keydir/*.pub 用戶SSH公鑰</li>
<li>增加新用戶,只要將新用戶SSH公鑰加入keydir/中,再執行git push即可</li>
</ul>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/16/Gerrit-Server-Code-Review-Server-on-Linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neil Lee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neil's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/16/Gerrit-Server-Code-Review-Server-on-Linux/" itemprop="url">Gerrit Server - Code Review Server on Linux</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">發表於</span>
              
              <time title="創建於" itemprop="dateCreated datePublished" datetime="2018-02-16T13:35:54+08:00">
                2018-02-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分類於</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-engineering/" itemprop="url" rel="index">
                    <span itemprop="name">Software engineering</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-engineering/Revision-control/" itemprop="url" rel="index">
                    <span itemprop="name">Revision control</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-engineering/Revision-control/Git/" itemprop="url" rel="index">
                    <span itemprop="name">Git</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ol>
<li><p>安裝java執行環境</p>
</li>
<li><p>安裝MySQL Server</p>
<ul>
<li><p>(Ubuntu)可至Ubuntu軟體中心 ,下載並安裝MySQL伺服器與MySQL管理員進行管理</p>
</li>
<li><p>設定MySQL</p>
<pre><code>mysql -u root -p
CREATE USER &apos;gerrit&apos;@&apos;localhost&apos; INDENTIFIED BY &apos;secret&apos;;
CREATE DATABASE reviewdb;
ALTER DATABASE reviewdb charset=latin1;
GRANT ALL ON reviewdb.* TO &apos;gerrit&apos;@&apos;localhost&apos;;
FLUSH PRIVILEGES;
</code></pre></li>
</ul>
</li>
<li><p>安裝Apache Server</p>
<ul>
<li><p>安裝Apache Server</p>
<pre><code>sudo apt-get install apache2 apache2-dev
</code></pre></li>
<li><p>安裝Apache proxy模組</p>
<pre><code>sudo a2nemod proxy
sudo a2nemod proxy_http
</code></pre></li>
<li><p>設定Apache Server代理登錄</p>
<pre><code>vim /etc/apache2/sites-available/default
</code></pre><p>或</p>
<pre><code>vim /etc/apache2/httpd.conf
</code></pre>  <!-- -->
<pre><code>Listen 8082
Listen 8083
Listen 8084
&lt;VirtualHost *:8082&gt;
  ServerName localhost
  ProxyRequests Off
  ProxyVia Off
  ProxyPreserveHost On
  &lt;Proxy *&gt;
     Order deny,allow
     Allow from all
  &lt;/Proxy&gt;
  &lt;Location /login/&gt;
     AuthType Basic
     AuthName &quot;Gerrit Code Review&quot;
     AuthBasicProvider file
     AuthUserFile /home/gerrit/review_site/etc/gerrit.passwd
     Require valid-user
  &lt;/Location&gt;
  AllowEncodedSlashes On
  ProxyPass / http://localhost:8081/ nocanon
&lt;/VirtualHost&gt;
&lt;VirtualHost *:8083&gt;
  ServerName Redmine
  DocumentRoot /home/redmine/redmine_site/public/
  &lt;Directory /home/redmine/redmine_site/public/&gt;
     Options Indexes ExecCGI FollowSymLinks
     Order allow,deny
     Allow from all
     AllowOverride all
  &lt;/Directory&gt;
&lt;/VirtualHost&gt;
&lt;VirtualHost *:8084&gt;
  ServerName PhpMyAdmin
  DocumentRoot /usr/share/phpmyadmin
  &lt;Directory /usr/share/phpmyadmin&gt;
     Options Indexes ExecCGI FollowSymLinks
     Order allow,deny
     Allow from all
     AllowOverride all
  &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</code></pre></li>
<li><p>啟動Apache Server</p>
<pre><code>sudo /etc/init.d/apache2 restart
</code></pre></li>
</ul>
</li>
<li><p>安裝Gerrit Server</p>
<ul>
<li><p>建立Gerrit專用帳號</p>
<p>  sudo adduser gerrit<br>  sudo su gerrit<br>  cd ~gerrit</p>
</li>
<li><p>安裝Gerrit V2.7 (下載Gerrit的.war包至/home/gerrit)</p>
<p>  java -jar gerrit-2.7.war init -d review_site</p>
</li>
<li><p>設定Gerrit Server</p>
<pre><code>vim /home/gerrit/review_site/etc/gerrit.config
</code></pre>  <!-- -->
<pre><code>[gerrit]
        basePath = git
        canonicalWebUrl = http://220.132.142.166:8082/
[database]
        type = mysql
        hostname = localhost
        database = reviewdb
        username = gerrit
[auth]
        type = HTTP
[sendemail]
        smtpServer = smtp.gmail.com
        smtpServerPort = 465
        smtpEncryption = SSL
        smtpUser = xunyi.lee@gmail.com
[container]
        user = gerrit
        javaHome = /usr/lib/jvm/java-7-oracle/jre
[sshd]
        listenAddress = *:29418
[httpd]
        listenUrl = proxy-http://localhost:8081/
[cache]
        directory = cache
[gitweb]
        cgi = /usr/share/gitweb/index.cgi
</code></pre></li>
<li><p>增加Gerrit 用戶</p>
<pre><code>sudo htpasswd -c /home/gerrit/review_site/etc/gerrit.passwd 用戶名稱
</code></pre></li>
<li><p>啟動Gerrir Server</p>
<pre><code>vim /home/gerrit/review_site/bin/gerrit.sh
</code></pre>  <!-- -->
<pre><code>GERRIT_SITE=/home/gerrit/review_site
NO_START=0
</code></pre>  <!-- -->
<pre><code>/home/gerrit/review_site/bin/gerrit.sh restart
sudo ln -s /home/gerrit/review_site/bin/gerrit.sh /etc/init.d/
sudo /etc/init.d/gerrit.sh restart
</code></pre></li>
</ul>
</li>
<li><p>Gerrit用戶認證</p>
<ul>
<li>使用建立的Gerrit用戶帳號與密碼,登入Web,</li>
<li>第一個登入的帳號為Administrator,</li>
<li>進入setting填入Email認證,</li>
<li>並加入Public SSH Key</li>
</ul>
</li>
<li><p>Gerrit增加Label-Verified</p>
<pre><code>mkdir tmp
cd tmp
git init
git remote add origin ssh://admin@remote.site.com:29418/All-Projects
git fetch origin refs/meta/config:refs/remotes/origin/meta/config
git checkout meta/config
vim project.config
</code></pre> <!-- -->
<pre><code>[label &quot;Verified&quot;]
        function = MaxWithBlock
        value = -1 Fails
        value = 0 No score
        value = +1 Verified
</code></pre> <!-- -->
<pre><code>git add *
git config --global user.name &quot;Neil Lee&quot;
git config --global user.email xunyi.lee@gmail.com
git commit -m &quot;Add label&apos;verfied&apos;&quot;
git push origin meta/config
</code></pre></li>
</ol>
<ol>
<li><p>設定Gerrit Web中使用中文註解</p>
<ul>
<li><p>設定Gerrit MySQL Server連線設定</p>
<pre><code>vim /home/gerrit/review_site/etc/gerrit.config
</code></pre>  <!-- -->
<pre><code>[database]
        type = mysql
        url = jdbc:mysql://localhost:3306/reviewdb?user=gerrit&amp;useUnicode=true&amp;characterEncoding=utf8
</code></pre></li>
<li><p>設定Gerrit database in MySQL Server </p>
<pre><code>mysql -u gerrit -p
ALTER DATABASE reviewdb charset=utf8;
use reviewdb;
alter table account_diff_preferences engine=innodb;
alter table account_external_ids engine=innodb;
alter table account_group_id engine=innodb;
alter table account_group_includes_by_uuid engine=innodb;
alter table account_group_includes_by_uuid_audit engine=innodb;
alter table account_group_members engine=innodb;
alter table account_group_members_audit engine=innodb;
alter table account_group_names engine=innodb;
alter table account_groups engine=innodb;
alter table account_id engine=innodb;
alter table account_patch_reviews engine=innodb;
alter table account_project_watches engine=innodb;
alter table account_ssh_keys engine=innodb;
alter table accounts engine=innodb;
alter table change_id engine=innodb;
alter table change_message_id engine=innodb;
alter table change_messages engine=innodb;
alter table changes engine=innodb;
alter table patch_comments engine=innodb;
alter table patch_set_ancestors engine=innodb;
alter table patch_set_approvals engine=innodb;
alter table patch_sets engine=innodb;
alter table schema_version engine=innodb;
alter table starred_changes engine=innodb;
alter table submodule_subscriptions engine=innodb;
alter table system_config engine=innodb;
alter table tracking_ids engine=innodb;
ALTER TABLE account_diff_preferences CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_external_ids CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_group_id CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_group_includes_by_uuid CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_group_includes_by_uuid_audit CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_group_members CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_group_members_audit CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_group_names CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_groups CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_id CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_patch_reviews CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_project_watches CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE account_ssh_keys CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE accounts CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE change_id CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE change_message_id CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE change_messages CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE changes CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE patch_comments CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE patch_set_ancestors CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE patch_set_approvals CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE patch_sets CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE schema_version CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE starred_changes CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE submodule_subscriptions CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE system_config CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
ALTER TABLE tracking_ids CONVERT TO CHARACTER SET utf8 COLLATE utf8_general_ci;
</code></pre></li>
</ul>
</li>
<li><p>設定Gerrit提供gitweb瀏覽repo</p>
<ul>
<li><p>安裝gitweb</p>
<pre><code>sudo apt-get install gitweb
</code></pre></li>
<li><p>設定gitweb</p>
<pre><code>vim /home/gerrit/review_site/etc/gerrit.config
</code></pre>  <!-- -->
<pre><code>[gitweb]
        cgi = /usr/share/gitweb/index.cgi
</code></pre></li>
</ul>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Neil Lee</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">25</span>
                  <span class="site-state-item-name">文章</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">分類</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">標籤</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Neil Lee</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 強力驅動</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主題 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
